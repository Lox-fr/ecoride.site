{% extends 'base.html.twig' %}

{% block title %}Connexion Ecoride{% endblock %}

{% block main %}

	<section class="container d-flex flex-row justify-content-center align-items-center flex-fill" id="loginForm">

		<form method="post" class="rounded-5 framed shadow-lg p-4 my-5" style="width: 80%; min-width: 300px; max-width: 700px;">

			<h2 class="fs-1 fw-bold mt-3 mb-4">Se connecter</h2>

			<div class="input-group mb-4 mx-auto" style="max-width: 500px;">
				<span class="d-none d-sm-inline-flex d-lg-none input-group-text rounded-start-4 shadow" style="width: 50px;">
					{{ ux_icon('line-md:email') }}
				</span>
				<span class="d-none d-lg-inline-flex input-group-text rounded-start-4 shadow" style="width: 60px;">
					{{ ux_icon('line-md:email') }}
				</span>

				<div class="form-floating">
					<input type="email" class="form-control text-start ps-4 rounded-end-4 shadow rounded-xs-start" name="_username" id="username" placeholder="nom@exemple.com" value="{{ last_username }}" autocomplete="email" required aria-required="true" {% if last_username is empty %} autofocus {% endif %}>
					<label for="username">Adresse email</label>
				</div>
			</div>

			<div class="input-group mb-4 mx-auto" style="max-width: 500px;">
				<span class="d-none d-sm-inline-flex d-lg-none input-group-text rounded-start-4 shadow" style="width: 50px;">
					{{ ux_icon('line-md:question') }}
				</span>
				<span class="d-none d-lg-inline-flex input-group-text rounded-start-4 shadow" style="width: 60px;">
					{{ ux_icon('line-md:question') }}
				</span>

				<div class="form-floating">
					<input type="password" class="form-control text-start ps-4 rounded-end-4 shadow rounded-xs-start" id="password" placeholder="Password" name="_password" autocomplete="current-password" required aria-required="true" {% if last_username is not empty %} autofocus {% endif %}>
					<label for="password">Mot de passe</label>
				</div>
			</div>

			{% if error %}
				<div class="alert alert-danger mx-auto" role="alert" style="max-width: 200px;">
					{{ error.messageKey|trans(error.messageData, 'security') }}</div>
			{% endif %}

			<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

			<button class="btn btn-lg btn-primary shadow mx-auto mt-2 mb-4" type="submit" aria-label="Valider vos informations de connexion">
				Valider
			</button>

			<p class="fst-italic">
				<small>
					<a href="" aria-label="Réinitialiser votre mot de passe">Mot de passe oublié ?</a>
				</small>
			</p>

		</form>

		
	</section>

{% endblock %}
